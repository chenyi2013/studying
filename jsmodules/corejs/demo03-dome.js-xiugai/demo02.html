<!DOCTYPE html>
<html>
<head>
	<title>corejs</title>
	<style type="text/css">
		.red {
			color: #f00;
		}

		.bgBlack {
			background-color: #000;
		}

		.menu li {
			margin-top: 5px;
		}
	</style>	
</head>
<body>
	<div class="header bgBlack">header</div>
	<div class="content" id="home">
		<ul class="menu">
			<li class="item">111</li>
			<li class="item active">222</li>
			<li class="item">333</li>
			<li class="item">444</li>
		</ul>
	</div>
	<div class="footer">footer</div>


	<script type="text/javascript" src="core.js"></script>

	<script>
		(function () {
			function core ( elements ) {
				var _elements;
				if ( typeof elements === 'string' ) {
					_elements = document.querySelectorAll( elements );
				}

				for (var i = 0, len = _elements.length; i < len; i++) {
					this[i] = _elements[i];
				}

				this.length = _elements.length;
			}

			// window.core = core;
			core.fn = core.prototype = {

				map: function ( callback ) {
					// var arr = [];
					for (var i = 0, len = this.length; i < len; i++) {
						// arr.push( callback(this, i) );
						callback(this, i);
					}
					// console.log('arr' + arr );
					// return arr;
				},

/*				forEach: function ( callback ) {
					this.map( callback );
				},*/

				text: function ( text ) {
					if ( typeof text !== 'undefined' ) {

/*						for (var i = 0; i < this.length; i++) {
							this[i].innerText = text;
						}*/

						this.forEach(function ( el ) {
							console.log( el );
						});

						this.map(function ( el, i ) {
							console.log( 'hehe' + i );
							console.log( el[i].innerText );
							// el.innerText = text;
						});


					} else {
						return this[0].innerText;
					}
				},

				html: function ( html ) {
					if ( typeof html !== 'undefined' ) {
						for (var i = 0; i < this.length; i++) {
							this[i].innerHTML = html;
						}
					} else {
						return this[0].innerHTML;
					}
				},

				/*
					一个参数 string 获取css样式
					两个参数 string string 设置元素样式
					json键值对 {key: value, ...} 设置元素的多种样式
				*/
				css: function ( styles ) {
					if ( typeof styles === 'string' ) {
						if ( arguments.length === 1 ) {
							if (this[0].currentStyle) {
								// IE
								return this[0].currentStyle[styles];
							} else {
								// DOM
								return getComputedStyle(this[0], false)[styles];
							}
						} else if ( arguments.length === 2 ) {
							for (var i = 0; i < this.length; i++) {
								this[i].style[arguments[0]] = arguments[1];
							}
						}
					} else if ( typeof styles === 'object' ) {
						for (var i = 0; i < this.length; i++) {
							for ( var value in styles ) {
								this[i].style[value] = styles[value];
							}
						}
					}
				}
			};

			var $,

			Core = function ( els ) {
				return new core( els );
			};
			$ = Core;
			window.Core = Core;
			window.$ = $;

			return Core;

		})();

		// console.log( Core('.menu').text('嘎嘎') );
		// console.log( Core('.menu li').text('嘎嘎') );
		// console.log( Core('.menu li').text() );
		// console.log( Core('.menu').html('<a href="#">link</a>') );
		// console.log( Core('.menu').html() );
		console.log( Core('.header').css('backgroundColor') );
		Core('.menu li').css('backgroundColor', '#f00');

		// Core('.header').css({'backgroundColor': '#ff0', 'fontWeight': 'bold', 'height': '40px'});
		// Core('.menu li').css({'backgroundColor': '#ff0', 'fontWeight': 'bold', 'height': '40px'});

		console.log($('li').css('height'));
		$('li:first-child').css('height', '100px');
		$('li:first-child').html('<a href="#">Home</a>');


		console.log( Core('.menu li').text('hehe') );
	</script>

</body>
</html>